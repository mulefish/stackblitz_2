<html> 
<body> 
  Hello there
<script> 
  const host = 'https://dxa4wb90x7ize.cloudfront.net/stage/';
  const version = 'latest';
  const scripts = [
  `https://assets.adobedtm.com/7a84fdea953b/09aece6f582f/launch-e6cc9ebc113b-development.min.js`,
  `${host}transformation-configs/${version}/transformation-configs-remoteEntry.js?time=${Date.now()}`,
  `${host}validation-configs/${version}/validation-configs-remoteEntry.js?time=${Date.now()}`,
  `${host}lam-model/${version}/lam-model-remoteEntry.js?time=${Date.now()}`,
  `${host}experiment-module/${version}/experiment-module-remoteEntry.js?time=${Date.now()}`,
  `${host}%40lululemon/mwa-analytics/latest/browser/mwa-analytics.js?time=${Date.now()}`
  ]
  scripts.forEach((_script)=> { 
    console.log(_script)
    document.write('<script src="' + _script + '"></scr' + 'ipt>');
  })
</script>
<script>
  MwaAnalytics.initializeAnalytics('TEST', {}, [], true);    
  async function doFetch() {
        const theResult = await MwaAnalytics.trackEvent('product-interaction', {
          event: {
            attributes: {
              action: 'view',
              algorithm: 'personalized',
            },
          },
          component: {
            id: 'recommendation:recently-`viewed',
            type: 'ProductCarousel',
            text: 'Buy now',
            position: 2,
            totalCount: 3,
          },
          product: {
            skuID: 'ca_123',
            productID: 'prod789',
            unifiedID: '',
            name: 'cool 22" pants',
            localizedName: '',
            price: '68.99',
            salePrice: '',
            isSale: false,
            categoryUnifiedID: '',
          },
          collection: {
            type: 'recommendation',
            id: 'recently-viewed',
          },
        });
        console.log("%c " + JSON.stringify( ( theResult['payload']['properties']['validationResult']['data']['payload'] ) , null, 2 ), "background:lightgreen") 

      }
</script>
<button onClick="doFetch()">doFetch</button>
</body>
</html>

